<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <!-- <link rel="icon" href="../../../../favicon.ico"> -->
    <!-- <link rel="stylesheet" href="./fonts/themify-icons.css" /> -->
    <title>ƒêƒÉng Nh·∫≠p H·ªá Th·ªëng</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- Bootstrap core CSS -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous"> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css"> -->
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto"> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.3/toastr.min.css"> -->
    <!-- Custom styles for this template -->
    <!-- <link href="/front-end/assets/css/styles.css" rel="stylesheet" / -->
     <link rel="stylesheet" href="/assets/css/styles.css">

  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-lg-3 col-md-2"></div>
        <div class="col-lg-4 col-md-8 login-box">
          <div class="col-lg-12 login-key">
          <i class="fa-brands fa-bluesky" aria-hidden="true"></i>
          <!-- <i class="fa-brands fa-bluesky fa-beat-fade" aria-hidden="true"></i> -->
          <!-- <i class="fa fa-key" aria-hidden="true"></i> -->
        </div>
        <div class="col-lg-12 login-title">ADMIN PANEL</div>
        <div class="col-lg-12 login-form">
          <div class="col-lg-12 login-form">
            <form id="login-form">
              <div class="form-group">
                <label class="form-control-label">T√†i Kho·∫£n</label>
                <input type="text" class="form-control" name="username" />
              </div>
              <div class="form-group">
                <label class="form-control-label">M·∫≠t Kh·∫©u</label>
                <input type="password" class="form-control" name="password" />
              </div>
              <div class="col-lg-12 loginbttm">
                <div class="col-lg-6 login-btm login-text">
                  <button
                    type="button"
                    class="btn btn-outline-primary"
                    onclick="login()"
                  >
                    ƒêƒÉng Nh·∫≠p
                  </button>
                </div>
                <div class="col-lg-12 login-btm login-button"></div>
              </div>
            </form>
          </div>
        </div>
        <div class="col-lg-3 col-md-2"></div>
      </div>
    </div>
    <!-- Bootstrap core JavaScript
			================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.7.1/jquery.contextMenu.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.7.1/jquery.ui.position.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.3/toastr.min.js"></script> -->
	<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
	crossorigin="anonymous"
  ></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.js" integrity="sha512-lbwH47l/tPXJYG9AcFNoJaTMhGvYWhVM9YI43CT+uteTRRaiLCui8snIgyAN8XWgNjNhCqlAUdzZptso6OCoFQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="/assets/js/app.js"></script>
    <!-- Login -->
    <script>
			// function login() {
			// 	App.fetch('./auth', 'login', App.getFormData($("#login-form")), (d) => {
			//         if(d.error_code) {
			//             toastr.error(d.message);
			//         }
			//         if(!d.error_code) {
			//             toastr.success(d.message);
			//             localStorage.setItem('huydz', JSON.stringify(d.data));
		  //               App.setCookie('app-token', d.data.token, 10)
		  //               setTimeout(e => {
		  //                   window.location.reload();
		  //               }, 1000)
			//         }
			//     })
			// }
//       function login() {
//     let formData = App.getFormData("#login-form");

//     App.fetch("auth", "login", formData, (d) => {
//         if (d.error_code) {
//             toastr.error(d.message);
//         } else {
//             toastr.success("ƒêƒÉng nh·∫≠p th√†nh c√¥ng!");
//             localStorage.setItem("huydz", JSON.stringify(d.data));
//             App.setCookie("app-token", d.data.token, 10);
//             setTimeout(() => {
//                 window.location.href = "index.html";
//             }, 1000);
//         }
//     });
// }
		</script>
    <!-- <script>
      async function login() {
          const username = document.querySelector("[name='username']").value;
          const password = document.querySelector("[name='password']").value;
    
          const response = await fetch("/login", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ username, password })
          });
    
          const result = await response.json();
          if (result.success) {
              window.location.href = "/front-end/index.html";
// Chuy·ªÉn h∆∞·ªõng sau khi ƒëƒÉng nh·∫≠p
          } else {
              alert(result.message); // Hi·ªÉn th·ªã l·ªói n·∫øu ƒëƒÉng nh·∫≠p th·∫•t b·∫°i
          }
      }
    </script> -->
    <script>
//       async function login() {
//     const username = document.querySelector("[name='username']").value;
//     const password = document.querySelector("[name='password']").value;

//     try {
//         console.log("üîπ G·ª≠i request ƒëƒÉng nh·∫≠p...");
//         const response = await fetch("/login", {
//             method: "POST",
//             headers: { "Content-Type": "application/json" },
//             body: JSON.stringify({ username, password })
//         });

//         const text = await response.text();
//         console.log("üîπ Response raw text:", text);

//         try {
//             const result = JSON.parse(text);
//             console.log("‚úÖ JSON response:", result);

//             if (result.success) {
//                 localStorage.setItem("isLoggedIn", "true");
//                 window.location.href = "/index.html";  // Chuy·ªÉn h∆∞·ªõng ƒë·∫øn index.html
//             } else {
//                 alert(result.message);
//             }
//         } catch (error) {
//             console.error("‚ùå Kh√¥ng th·ªÉ parse JSON:", error);
//             alert("L·ªói server: ƒê√£ nh·∫≠n ph·∫£n h·ªìi kh√¥ng h·ª£p l·ªá!");
//         }
//     } catch (error) {
//         console.error("‚ùå L·ªói ƒëƒÉng nh·∫≠p:", error);
//         alert("C√≥ l·ªói x·∫£y ra, vui l√≤ng th·ª≠ l·∫°i!");
//     }
// }
const API_BASE_URL = "https://bluesky-backend-bii5.onrender.com"; // ƒê·∫£m b·∫£o URL n√†y ƒë√∫ng
async function login() {
    const username = document.querySelector("[name='username']").value;
    const password = document.querySelector("[name='password']").value;

    try {
        const response = await fetch("/login", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ username, password })
        });

        if (!response.ok) {
            throw new Error(`L·ªói server: ${response.status}`);
        }

        const result = await response.json();

        if (result.success) {
            localStorage.setItem("isLoggedIn", "true");
            window.location.href = "/index.html";
        } else {
            alert("‚ùå " + result.message);
        }
    } catch (error) {
        alert("‚ö† L·ªói k·∫øt n·ªëi, vui l√≤ng ki·ªÉm tra m·∫°ng v√† th·ª≠ l·∫°i!");
    }
}


    </script>
    
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  </body>
</html>
